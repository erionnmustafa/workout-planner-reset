<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Reset Password</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body style="font-family: system-ui, sans-serif; padding: 28px; max-width: 520px; margin: auto;">
  <h2>Reset your password</h2>
  <p>Enter your new password below.</p>

  <input id="password" type="password" placeholder="New password"
    style="width:100%; padding:12px; font-size:16px;" />

  <div style="height:12px;"></div>

  <button id="btn" style="width:100%; padding:12px; font-size:16px;">
    Reset Password
  </button>

  <p id="msg" style="margin-top:14px;"></p>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    const SUPABASE_URL = "PASTE_YOUR_SUPABASE_URL";
    const SUPABASE_ANON_KEY = "PASTE_YOUR_PUBLIC_ANON_KEY";

    const client = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function reset() {
      const password = document.getElementById("password").value;
      const msg = document.getElementById("msg");

      if (!password || password.length < 6) {
        msg.textContent = "Password must be at least 6 characters.";
        return;
      }

      msg.textContent = "Updating...";

      const { error } = await client.auth.updateUser({ password });

      if (error) msg.textContent = error.message;
      else msg.textContent = "Password updated. You can return to the app.";
    }

    document.getElementById("btn").onclick = reset;
  </script>
</body>
</html>
